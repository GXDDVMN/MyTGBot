2023-07-17 20:23:03,668 INFO o.s.b.StartupInfoLogger [main] Starting MyTgBotApplication using Java 19 on DESKTOP-PE8TK1B with PID 9880 (S:\Projects\my_project\my_tg_bot webhook\MyTGBot\target\classes started by drobo in S:\Projects\my_project\my_tg_bot webhook\MyTGBot)
2023-07-17 20:23:03,673 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-07-17 20:23:04,217 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-07-17 20:23:04,228 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-07-17 20:23:04,228 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-07-17 20:23:04,230 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-07-17 20:23:04,381 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-07-17 20:23:04,381 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 684 ms
2023-07-17 20:23:05,166 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2023-07-17 20:23:05,177 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-07-17 20:23:05,184 INFO o.s.b.StartupInfoLogger [main] Started MyTgBotApplication in 1.729 seconds (JVM running for 2.374)
2023-07-17 20:24:02,605 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-17 20:24:02,605 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-17 20:24:02,605 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-07-17 20:24:02,694 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-1] New callbackQuery from ChatID: 427481727 with data: nasa
2023-07-17 20:24:02,803 INFO c.d.m.s.PhotoFromTextService [http-nio-8080-exec-1] success sending select format message to ChatID: 427481727
2023-07-17 20:24:08,958 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-2] New callbackQuery from ChatID: 427481727 with data: photo_of_day
2023-07-17 20:24:09,851 INFO c.d.m.s.PhotoOfDayService [http-nio-8080-exec-2] success sending photo of the day to ChatID: 427481727
2023-07-17 20:24:31,191 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-3] New message from ChatID: 427481727 with text: null
2023-07-17 20:24:31,457 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-6] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:31,592 INFO c.d.m.c.StartCommand [http-nio-8080-exec-6] success reply with start message to ChatID: 427481727
2023-07-17 20:24:31,640 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-5] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:31,753 INFO c.d.m.c.StartCommand [http-nio-8080-exec-5] success reply with start message to ChatID: 427481727
2023-07-17 20:24:31,801 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-4] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:31,940 INFO c.d.m.c.StartCommand [http-nio-8080-exec-4] success reply with start message to ChatID: 427481727
2023-07-17 20:24:31,987 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-7] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:32,155 INFO c.d.m.c.StartCommand [http-nio-8080-exec-7] success reply with start message to ChatID: 427481727
2023-07-17 20:24:32,202 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-8] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:32,353 INFO c.d.m.c.StartCommand [http-nio-8080-exec-8] success reply with start message to ChatID: 427481727
2023-07-17 20:24:32,400 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-9] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:32,540 INFO c.d.m.c.StartCommand [http-nio-8080-exec-9] success reply with start message to ChatID: 427481727
2023-07-17 20:24:32,587 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-10] New command from ChatID: 427481727 with command: /help
2023-07-17 20:24:32,719 INFO c.d.m.c.HelpCommand [http-nio-8080-exec-10] success reply with help message to ChatID: 427481727
2023-07-17 20:24:32,767 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-1] New command from ChatID: 427481727 with command: /stop
2023-07-17 20:24:32,881 INFO c.d.m.c.StopCommand [http-nio-8080-exec-1] success reply with stop message to ChatID: 427481727
2023-07-17 20:24:32,929 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-2] New command from ChatID: 427481727 with command: /help
2023-07-17 20:24:33,057 INFO c.d.m.c.HelpCommand [http-nio-8080-exec-2] success reply with help message to ChatID: 427481727
2023-07-17 20:24:33,104 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-3] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:33,229 INFO c.d.m.c.StartCommand [http-nio-8080-exec-3] success reply with start message to ChatID: 427481727
2023-07-17 20:24:40,455 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-6] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:40,621 INFO c.d.m.c.StartCommand [http-nio-8080-exec-6] success reply with start message to ChatID: 427481727
2023-07-17 20:24:42,128 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-5] New callbackQuery from ChatID: 427481727 with data: photo_of_day
2023-07-17 20:24:43,166 INFO c.d.m.s.PhotoOfDayService [http-nio-8080-exec-5] success sending photo of the day to ChatID: 427481727
2023-07-17 20:24:47,921 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-4] New command from ChatID: 427481727 with command: /start
2023-07-17 20:24:48,050 INFO c.d.m.c.StartCommand [http-nio-8080-exec-4] success reply with start message to ChatID: 427481727
2023-07-17 20:24:51,189 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-7] New callbackQuery from ChatID: 427481727 with data: rovers
2023-07-17 20:24:51,405 INFO c.d.m.s.PhotoFromRoversService [http-nio-8080-exec-7] success reply with select rover message to ChatID: 427481727
2023-07-17 20:24:52,815 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-8] New callbackQuery from ChatID: 427481727 with data: curiosity
2023-07-17 20:24:52,896 INFO c.d.m.s.PhotoFromRoversService [http-nio-8080-exec-8] success sending select date message to ChatID: 427481727
2023-07-17 20:25:05,275 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-9] New message from ChatID: 427481727 with text: 06.09.2013
2023-07-17 20:25:07,711 INFO c.d.m.s.PhotoFromRoversService [http-nio-8080-exec-9] success sending rovers photo message to ChatID: 427481727
2023-07-17 20:31:16,050 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-2] New command from ChatID: 427481727 with command: /start
2023-07-17 20:31:16,243 INFO c.d.m.c.StartCommand [http-nio-8080-exec-2] success reply with start message to ChatID: 427481727
2023-07-17 20:31:17,614 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-3] New callbackQuery from ChatID: 427481727 with data: photo_of_day
2023-07-17 20:31:18,501 INFO c.d.m.s.PhotoOfDayService [http-nio-8080-exec-3] success sending photo of the day to ChatID: 427481727
2023-07-17 20:31:26,693 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-6] New command from ChatID: 427481727 with command: /start
2023-07-17 20:31:26,923 INFO c.d.m.c.StartCommand [http-nio-8080-exec-6] success reply with start message to ChatID: 427481727
2023-07-17 20:31:28,432 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-5] New callbackQuery from ChatID: 427481727 with data: orbit
2023-07-17 20:31:28,529 INFO c.d.m.s.PhotoFromOrbitService [http-nio-8080-exec-5] success sending location request message to ChatID: 427481727
2023-07-17 20:31:36,218 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-4] New callbackQuery from ChatID: 427481727 with data: nasa
2023-07-17 20:31:36,311 INFO c.d.m.s.PhotoFromTextService [http-nio-8080-exec-4] success sending select format message to ChatID: 427481727
2023-07-17 20:31:37,884 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-7] New callbackQuery from ChatID: 427481727 with data: photo
2023-07-17 20:31:43,331 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-8] New message from ChatID: 427481727 with text: Gd
2023-07-17 20:31:44,938 ERROR c.d.m.s.PhotoFromTextService [http-nio-8080-exec-8] failed to reply with photo from text message
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error executing org.telegram.telegrambots.meta.api.methods.send.SendPhoto query: [400] Bad Request: message caption is too long
	at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponseInternal(PartialBotApiMethod.java:53) ~[telegrambots-meta-6.3.0.jar:?]
	at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponse(PartialBotApiMethod.java:33) ~[telegrambots-meta-6.3.0.jar:?]
	at org.telegram.telegrambots.meta.api.methods.send.SendPhoto.deserializeResponse(SendPhoto.java:92) ~[telegrambots-meta-6.3.0.jar:?]
	at org.telegram.telegrambots.bots.DefaultAbsSender.execute(DefaultAbsSender.java:255) ~[telegrambots-6.3.0.jar:?]
	at com.drobov.mytgbot.service.SendBotService.sendMessage(SendBotService.java:28) ~[classes/:?]
	at com.drobov.mytgbot.service.PhotoFromTextService.sendPhoto(PhotoFromTextService.java:73) ~[classes/:?]
	at com.drobov.mytgbot.handler.MessageHandler.processMessage(MessageHandler.java:46) ~[classes/:?]
	at com.drobov.mytgbot.handler.UpdateHandler.handleUpdate(UpdateHandler.java:43) ~[classes/:?]
	at com.drobov.mytgbot.controller.WebHookController.onUpdateReceived(WebHookController.java:20) ~[classes/:?]
	at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:578) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]
	at java.lang.Thread.run(Thread.java:1589) ~[?:?]
2023-07-17 20:31:51,384 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-9] New message from ChatID: 427481727 with text: Re
2023-07-17 20:31:53,815 INFO c.d.m.s.PhotoFromTextService [http-nio-8080-exec-9] success sending photo message to ChatID: 427481727
2023-07-17 20:32:01,832 INFO c.d.m.h.UpdateHandler [http-nio-8080-exec-10] New message from ChatID: 427481727 with text: Oi
2023-07-17 20:32:04,506 INFO c.d.m.s.PhotoFromTextService [http-nio-8080-exec-10] success sending photo message to ChatID: 427481727
